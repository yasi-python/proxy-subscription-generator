function resolveProps(e,{flow:t,indicator:n,next:o,offset:a,onError:s,parentIndent:c,startOnNewline:r}){let l=!1,i=r,p=r,u="",d="",m=!1,f=!1,h=null,b=null,y=null,A=null,E=null,T=null,N=null;for(const a of e)switch(f&&("space"!==a.type&&"newline"!==a.type&&"comma"!==a.type&&s(a.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),f=!1),h&&(i&&"comment"!==a.type&&"newline"!==a.type&&s(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=null),a.type){case"space":t||"doc-start"===n&&"flow-collection"===o?.type||!a.source.includes("\t")||(h=a),p=!0;break;case"comment":{p||s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=a.source.substring(1)||" ";u?u+=d+e:u=e,d="",i=!1;break}case"newline":i?u?u+=a.source:T&&"seq-item-ind"===n||(l=!0):d+=a.source,i=!0,m=!0,(b||y)&&(A=a),p=!0;break;case"anchor":b&&s(a,"MULTIPLE_ANCHORS","A node can have at most one anchor"),a.source.endsWith(":")&&s(a.offset+a.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),b=a,N??(N=a.offset),i=!1,p=!1,f=!0;break;case"tag":y&&s(a,"MULTIPLE_TAGS","A node can have at most one tag"),y=a,N??(N=a.offset),i=!1,p=!1,f=!0;break;case n:(b||y)&&s(a,"BAD_PROP_ORDER",`Anchors and tags must be after the ${a.source} indicator`),T&&s(a,"UNEXPECTED_TOKEN",`Unexpected ${a.source} in ${t??"collection"}`),T=a,i="seq-item-ind"===n||"explicit-key-ind"===n,p=!1;break;case"comma":if(t){E&&s(a,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),E=a,i=!1,p=!1;break}default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${a.type} token`),i=!1,p=!1}const w=e[e.length-1],_=w?w.offset+w.source.length:a;return f&&o&&"space"!==o.type&&"newline"!==o.type&&"comma"!==o.type&&("scalar"!==o.type||""!==o.source)&&s(o.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h&&(i&&h.indent<=c||"block-map"===o?.type||"block-seq"===o?.type)&&s(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:E,found:T,spaceBefore:l,comment:u,hasNewline:m,anchor:b,tag:y,newlineAfterProp:A,end:_,start:N??_}}export{resolveProps};