import{createNode}from"../doc/createNode.js";import{stringifyPair}from"../stringify/stringifyPair.js";import{addPairToJSMap}from"./addPairToJSMap.js";import{NODE_TYPE,PAIR,isNode}from"./identity.js";function createPair(r,i,e){const t=createNode(r,void 0,e),o=createNode(i,void 0,e);return new Pair(t,o)}class Pair{constructor(r,i=null){Object.defineProperty(this,NODE_TYPE,{value:PAIR}),this.key=r,this.value=i}clone(r){let{key:i,value:e}=this;return isNode(i)&&(i=i.clone(r)),isNode(e)&&(e=e.clone(r)),new Pair(i,e)}toJSON(r,i){const e=i?.mapAsMap?new Map:{};return addPairToJSMap(i,e,this)}toString(r,i,e){return r?.doc?stringifyPair(this,r,i,e):JSON.stringify(this)}}export{Pair,createPair};