function applyReviver(e,t,o,r){if(r&&"object"==typeof r)if(Array.isArray(r))for(let t=0,o=r.length;t<o;++t){const o=r[t],i=applyReviver(e,r,String(t),o);void 0===i?delete r[t]:i!==o&&(r[t]=i)}else if(r instanceof Map)for(const t of Array.from(r.keys())){const o=r.get(t),i=applyReviver(e,r,t,o);void 0===i?r.delete(t):i!==o&&r.set(t,i)}else if(r instanceof Set)for(const t of Array.from(r)){const o=applyReviver(e,r,t,t);void 0===o?r.delete(t):o!==t&&(r.delete(t),r.add(o))}else for(const[t,o]of Object.entries(r)){const i=applyReviver(e,r,t,o);void 0===i?delete r[t]:i!==o&&(r[t]=i)}return e.call(t,o,r)}export{applyReviver};