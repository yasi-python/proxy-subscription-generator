"use strict";let Input,pico=require("picocolors"),tokenizer=require("./tokenize");function registerInput(e){Input=e}const HIGHLIGHT_THEME={";":pico.yellow,":":pico.yellow,"(":pico.cyan,")":pico.cyan,"[":pico.yellow,"]":pico.yellow,"{":pico.yellow,"}":pico.yellow,"at-word":pico.cyan,brackets:pico.cyan,call:pico.cyan,class:pico.yellow,comment:pico.gray,hash:pico.magenta,string:pico.green};function getTokenType([e,i],n){if("word"===e){if("."===i[0])return"class";if("#"===i[0])return"hash"}if(!n.endOfFile()){let e=n.nextToken();if(n.back(e),"brackets"===e[0]||"("===e[0])return"call"}return e}function terminalHighlight(e){let i=tokenizer(new Input(e),{ignoreErrors:!0}),n="";for(;!i.endOfFile();){let e=i.nextToken(),o=HIGHLIGHT_THEME[getTokenType(e,i)];n+=o?e[1].split(/\r?\n/).map(e=>o(e)).join("\n"):e[1]}return n}terminalHighlight.registerInput=registerInput,module.exports=terminalHighlight;