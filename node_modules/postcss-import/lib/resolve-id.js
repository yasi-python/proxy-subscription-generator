"use strict";const resolve=require("resolve"),moduleDirectories=["web_modules","node_modules"];function resolveModule(e,o){return new Promise((s,r)=>{resolve(e,o,(e,o)=>e?r(e):s(o))})}module.exports=function(e,o,s){const r=s.path,n={basedir:o,moduleDirectory:moduleDirectories.concat(s.addModulesDirectories),paths:r,extensions:[".css"],packageFilter:function(e){return e.style?e.main=e.style:e.main&&/\.css$/.test(e.main)||(e.main="index.css"),e},preserveSymlinks:!1};return resolveModule(`./${e}`,n).catch(()=>resolveModule(e,n)).catch(()=>{throw-1===r.indexOf(o)&&r.unshift(o),new Error(`Failed to find '${e}'\n  in [\n    ${r.join(",\n        ")}\n  ]`)})};