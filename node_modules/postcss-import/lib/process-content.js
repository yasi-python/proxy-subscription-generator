"use strict";const path=require("path");let sugarss;function runPostcss(s,r,t,u,e,n){return n||(n=0),s(u).process(r,{from:t,parser:e[n]}).catch(a=>{if(++n===e.length)throw a;return runPostcss(s,r,t,u,e,n)})}module.exports=function(s,r,t,u,e){const{plugins:n}=u,a=[];if(".sss"===path.extname(t)){if(!sugarss)try{sugarss=require("sugarss")}catch{}if(sugarss)return runPostcss(e,r,t,n,[sugarss])}return s.opts.syntax?.parse&&a.push(s.opts.syntax.parse),s.opts.parser&&a.push(s.opts.parser),a.push(null),runPostcss(e,r,t,n,a)};