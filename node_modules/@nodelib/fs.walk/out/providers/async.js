"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const async_1=require("../readers/async");class AsyncProvider{constructor(e,s){this._root=e,this._settings=s,this._reader=new async_1.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(s=>{callFailureCallback(e,s)}),this._reader.onEntry(e=>{this._storage.push(e)}),this._reader.onEnd(()=>{callSuccessCallback(e,this._storage)}),this._reader.read()}}function callFailureCallback(e,s){e(s)}function callSuccessCallback(e,s){e(null,s)}exports.default=AsyncProvider;