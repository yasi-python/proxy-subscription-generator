"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _types=require("../parser/tokenizer/types"),_getImportExportSpecifierInfo=require("./getImportExportSpecifierInfo"),_getImportExportSpecifierInfo2=_interopRequireDefault(_getImportExportSpecifierInfo);function getTSImportedNames(e){const t=new Set;for(let o=0;o<e.tokens.length;o++)e.matches1AtIndex(o,_types.TokenType._import)&&!e.matches3AtIndex(o,_types.TokenType._import,_types.TokenType.name,_types.TokenType.eq)&&collectNamesForImport(e,o,t);return t}function collectNamesForImport(e,t,o){t++,e.matches1AtIndex(t,_types.TokenType.parenL)||(e.matches1AtIndex(t,_types.TokenType.name)&&(o.add(e.identifierNameAtIndex(t)),t++,e.matches1AtIndex(t,_types.TokenType.comma)&&t++),e.matches1AtIndex(t,_types.TokenType.star)&&(t+=2,o.add(e.identifierNameAtIndex(t)),t++),e.matches1AtIndex(t,_types.TokenType.braceL)&&collectNamesForNamedImport(e,++t,o))}function collectNamesForNamedImport(e,t,o){for(;;){if(e.matches1AtIndex(t,_types.TokenType.braceR))return;const r=_getImportExportSpecifierInfo2.default.call(void 0,e,t);if(t=r.endIndex,r.isType||o.add(r.rightName),e.matches2AtIndex(t,_types.TokenType.comma,_types.TokenType.braceR))return;if(e.matches1AtIndex(t,_types.TokenType.braceR))return;if(!e.matches1AtIndex(t,_types.TokenType.comma))throw new Error(`Unexpected token: ${JSON.stringify(e.tokens[t])}`);t++}}exports.default=getTSImportedNames;