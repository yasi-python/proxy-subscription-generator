"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}Object.defineProperty(exports,"__esModule",{value:!0});var _pirates=require("pirates"),pirates=_interopRequireWildcard(_pirates),_index=require("./index");function addHook(e,r,t){let o=r;const s=process.env.SUCRASE_OPTIONS;return s&&(o={...o,...JSON.parse(s)}),pirates.addHook((e,r)=>{const{code:t,sourceMap:s}=_index.transform.call(void 0,e,{...o,sourceMapOptions:{compiledFilename:r},filePath:r});return`${t}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,${Buffer.from(JSON.stringify(s)).toString("base64")}`},{...t,exts:[e]})}function registerJS(e){return addHook(".js",{transforms:["imports","flow","jsx"]},e)}function registerJSX(e){return addHook(".jsx",{transforms:["imports","flow","jsx"]},e)}function registerTS(e){return addHook(".ts",{transforms:["imports","typescript"]},e)}function registerTSX(e){return addHook(".tsx",{transforms:["imports","typescript","jsx"]},e)}function registerTSLegacyModuleInterop(e){return addHook(".ts",{transforms:["imports","typescript"],enableLegacyTypeScriptModuleInterop:!0},e)}function registerTSXLegacyModuleInterop(e){return addHook(".tsx",{transforms:["imports","typescript","jsx"],enableLegacyTypeScriptModuleInterop:!0},e)}function registerAll(e){const r=[registerJS(e),registerJSX(e),registerTS(e),registerTSX(e)];return()=>{for(const e of r)e()}}exports.addHook=addHook,exports.registerJS=registerJS,exports.registerJSX=registerJSX,exports.registerTS=registerTS,exports.registerTSX=registerTSX,exports.registerTSLegacyModuleInterop=registerTSLegacyModuleInterop,exports.registerTSXLegacyModuleInterop=registerTSXLegacyModuleInterop,exports.registerAll=registerAll;