import fs from"fs";import path from"path";export function findAtConfigPath(e,t){let r=null,i=null;return e.walkAtRules("config",e=>{if(i=e.source?.input.file??t.opts.from??null,null===i)throw e.error("The `@config` directive cannot be used without setting `from` in your PostCSS config.");if(r)throw e.error("Only one `@config` directive is allowed per file.");let o=e.params.match(/(['"])(.*?)\1/);if(!o)throw e.error("A path is required when using the `@config` directive.");let n=o[2];if(path.isAbsolute(n))throw e.error("The `@config` directive cannot be used with an absolute path.");if(r=path.resolve(path.dirname(i),n),!fs.existsSync(r))throw e.error(`The config file at "${n}" does not exist. Make sure the path is correct and the file exists.`);e.remove()}),r||null}