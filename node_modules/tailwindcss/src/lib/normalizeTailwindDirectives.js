import log from"../util/log";export default function normalizeTailwindDirectives(a){let i=new Set,s=new Set,e=new Set;if(a.walkAtRules(a=>{"apply"===a.name&&e.add(a),"import"===a.name&&('"tailwindcss/base"'===a.params||"'tailwindcss/base'"===a.params?(a.name="tailwind",a.params="base"):'"tailwindcss/components"'===a.params||"'tailwindcss/components'"===a.params?(a.name="tailwind",a.params="components"):'"tailwindcss/utilities"'===a.params||"'tailwindcss/utilities'"===a.params?(a.name="tailwind",a.params="utilities"):'"tailwindcss/screens"'!==a.params&&"'tailwindcss/screens'"!==a.params&&'"tailwindcss/variants"'!==a.params&&"'tailwindcss/variants'"!==a.params||(a.name="tailwind",a.params="variants")),"tailwind"===a.name&&("screens"===a.params&&(a.params="variants"),i.add(a.params)),["layer","responsive","variants"].includes(a.name)&&(["responsive","variants"].includes(a.name)&&log.warn(`${a.name}-at-rule-deprecated`,[`The \`@${a.name}\` directive has been deprecated in Tailwind CSS v3.0.`,"Use `@layer utilities` or `@layer components` instead.","https://tailwindcss.com/docs/upgrade-guide#replace-variants-with-layer"]),s.add(a))}),!i.has("base")||!i.has("components")||!i.has("utilities"))for(let a of s)if("layer"===a.name&&["base","components","utilities"].includes(a.params)){if(!i.has(a.params))throw a.error(`\`@layer ${a.params}\` is used but no matching \`@tailwind ${a.params}\` directive is present.`)}else if("responsive"===a.name){if(!i.has("utilities"))throw a.error("`@responsive` is used but `@tailwind utilities` is missing.")}else if("variants"===a.name&&!i.has("utilities"))throw a.error("`@variants` is used but `@tailwind utilities` is missing.");return{tailwindDirectives:i,applyDirectives:e}}