function partitionRules(e){if(!e.walkAtRules)return;let t=new Set;if(e.walkAtRules("apply",e=>{t.add(e.parent)}),0!==t.size)for(let e of t){let t=[],l=[];for(let n of e.nodes)"atrule"===n.type&&"apply"===n.name?(l.length>0&&(t.push(l),l=[]),t.push([n])):l.push(n);if(l.length>0&&t.push(l),1!==t.length){for(let l of[...t].reverse()){let t=e.clone({nodes:[]});t.append(l),e.after(t)}e.remove()}}}export default function expandApplyAtRules(){return e=>{partitionRules(e)}}