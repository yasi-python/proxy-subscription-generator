import setupTrackingContext from"./lib/setupTrackingContext";import processTailwindFeatures from"./processTailwindFeatures";import{env}from"./lib/sharedState";import{findAtConfigPath}from"./lib/findAtConfigPath";module.exports=function(t){return{postcssPlugin:"tailwindcss",plugins:[env.DEBUG&&function(t){return console.log("\n"),console.time("JIT TOTAL"),t},async function(o,e){t=findAtConfigPath(o,e)??t;let n=setupTrackingContext(t);if("document"===o.type){let t=o.nodes.filter(t=>"root"===t.type);for(const o of t)"root"===o.type&&await processTailwindFeatures(n)(o,e);return}await processTailwindFeatures(n)(o,e)},env.DEBUG&&function(t){return console.timeEnd("JIT TOTAL"),console.log("\n"),t}].filter(Boolean)}},module.exports.postcss=!0;