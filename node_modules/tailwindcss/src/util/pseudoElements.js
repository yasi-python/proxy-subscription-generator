let elementProperties={"::after":["terminal","jumpable"],"::backdrop":["terminal","jumpable"],"::before":["terminal","jumpable"],"::cue":["terminal"],"::cue-region":["terminal"],"::first-letter":["terminal","jumpable"],"::first-line":["terminal","jumpable"],"::grammar-error":["terminal"],"::marker":["terminal","jumpable"],"::part":["terminal","actionable"],"::placeholder":["terminal","jumpable"],"::selection":["terminal","jumpable"],"::slotted":["terminal"],"::spelling-error":["terminal"],"::target-text":["terminal"],"::file-selector-button":["terminal","actionable"],"::deep":["actionable"],"::v-deep":["actionable"],"::ng-deep":["actionable"],":after":["terminal","jumpable"],":before":["terminal","jumpable"],":first-letter":["terminal","jumpable"],":first-line":["terminal","jumpable"],":where":[],":is":[],":has":[],__default__:["terminal","actionable"]};export function movePseudos(e){let[t]=movablePseudos(e);return t.forEach(([e,t])=>e.removeChild(t)),e.nodes.push(...t.map(([,e])=>e)),e}function movablePseudos(e){let t=[],l=null;for(let r of e.nodes)if("combinator"===r.type)t=t.filter(([,e])=>propertiesForPseudo(e).includes("jumpable")),l=null;else if("pseudo"===r.type){isMovablePseudoElement(r)?(l=r,t.push([e,r,null])):l&&isAttachablePseudoClass(r,l)?t.push([e,r,l]):l=null;for(let e of r.nodes??[]){let[r,a]=movablePseudos(e);l=a||l,t.push(...r)}}return[t,l]}function isPseudoElement(e){return e.value.startsWith("::")||void 0!==elementProperties[e.value]}function isMovablePseudoElement(e){return isPseudoElement(e)&&propertiesForPseudo(e).includes("terminal")}function isAttachablePseudoClass(e,t){return"pseudo"===e.type&&(!isPseudoElement(e)&&propertiesForPseudo(t).includes("actionable"))}function propertiesForPseudo(e){return elementProperties[e.value]??elementProperties.__default__}