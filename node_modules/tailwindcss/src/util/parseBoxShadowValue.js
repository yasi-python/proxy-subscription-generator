import{splitAtTopLevelOnly}from"./splitAtTopLevelOnly";let KEYWORDS=new Set(["inset","inherit","initial","revert","unset"]),SPACE=/\ +(?![^(]*\))/g,LENGTH=/^-?(\d+|\.\d+)(.*?)$/g;export function parseBoxShadowValue(e){return splitAtTopLevelOnly(e,",").map(e=>{let o=e.trim(),t={raw:o},n=o.split(SPACE),r=new Set;for(let e of n)LENGTH.lastIndex=0,!r.has("KEYWORD")&&KEYWORDS.has(e)?(t.keyword=e,r.add("KEYWORD")):LENGTH.test(e)?r.has("X")?r.has("Y")?r.has("BLUR")?r.has("SPREAD")||(t.spread=e,r.add("SPREAD")):(t.blur=e,r.add("BLUR")):(t.y=e,r.add("Y")):(t.x=e,r.add("X")):t.color?(t.unknown||(t.unknown=[]),t.unknown.push(e)):t.color=e;return t.valid=void 0!==t.x&&void 0!==t.y,t})}export function formatBoxShadowValue(e){return e.map(e=>e.valid?[e.keyword,e.x,e.y,e.blur,e.spread,e.color].filter(Boolean).join(" "):e.raw).join(", ")}