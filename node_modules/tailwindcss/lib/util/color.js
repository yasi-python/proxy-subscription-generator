"use strict";function _export(r,e){for(var o in e)Object.defineProperty(r,o,{enumerable:!0,get:e[o]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{parseColor:function(){return parseColor},formatColor:function(){return formatColor}});const _colorNames=_interop_require_default(require("./colorNames"));function _interop_require_default(r){return r&&r.__esModule?r:{default:r}}let HEX=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,SHORT_HEX=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,VALUE=/(?:\d+|\d*\.\d+)%?/,SEP=/(?:\s*,\s*|\s+)/,ALPHA_SEP=/\s*[,/]\s*/,CUSTOM_PROPERTY=/var\(--(?:[^ )]*?)(?:,(?:[^ )]*?|var\(--[^ )]*?\)))?\)/,RGB=new RegExp(`^(rgba?)\\(\\s*(${VALUE.source}|${CUSTOM_PROPERTY.source})(?:${SEP.source}(${VALUE.source}|${CUSTOM_PROPERTY.source}))?(?:${SEP.source}(${VALUE.source}|${CUSTOM_PROPERTY.source}))?(?:${ALPHA_SEP.source}(${VALUE.source}|${CUSTOM_PROPERTY.source}))?\\s*\\)$`),HSL=new RegExp(`^(hsla?)\\(\\s*((?:${VALUE.source})(?:deg|rad|grad|turn)?|${CUSTOM_PROPERTY.source})(?:${SEP.source}(${VALUE.source}|${CUSTOM_PROPERTY.source}))?(?:${SEP.source}(${VALUE.source}|${CUSTOM_PROPERTY.source}))?(?:${ALPHA_SEP.source}(${VALUE.source}|${CUSTOM_PROPERTY.source}))?\\s*\\)$`);function parseColor(r,{loose:e=!1}={}){var o,t;if("string"!=typeof r)return null;if("transparent"===(r=r.trim()))return{mode:"rgb",color:["0","0","0"],alpha:"0"};if(r in _colorNames.default)return{mode:"rgb",color:_colorNames.default[r].map(r=>r.toString())};let a=r.replace(SHORT_HEX,(r,e,o,t,a)=>["#",e,e,o,o,t,t,a?a+a:""].join("")).match(HEX);if(null!==a)return{mode:"rgb",color:[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)].map(r=>r.toString()),alpha:a[4]?(parseInt(a[4],16)/255).toString():void 0};var l;let n=null!==(l=r.match(RGB))&&void 0!==l?l:r.match(HSL);if(null===n)return null;let u=[n[2],n[3],n[4]].filter(Boolean).map(r=>r.toString());return 2===u.length&&u[0].startsWith("var(")?{mode:n[1],color:[u[0]],alpha:u[1]}:e||3===u.length?u.length<3&&!u.some(r=>/^var\(.*?\)$/.test(r))?null:{mode:n[1],color:u,alpha:null===(o=n[5])||void 0===o||null===(t=o.toString)||void 0===t?void 0:t.call(o)}:null}function formatColor({mode:r,color:e,alpha:o}){let t=void 0!==o;return"rgba"===r||"hsla"===r?`${r}(${e.join(", ")}${t?`, ${o}`:""})`:`${r}(${e.join(" ")}${t?` / ${o}`:""})`}