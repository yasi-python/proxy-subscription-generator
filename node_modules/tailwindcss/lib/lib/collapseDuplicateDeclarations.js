"use strict";function collapseDuplicateDeclarations(){return e=>{e.walkRules(e=>{let t=new Map,l=new Set([]),r=new Map;e.walkDecls(o=>{if(o.parent===e){if(t.has(o.prop)){if(t.get(o.prop).value===o.value)return l.add(t.get(o.prop)),void t.set(o.prop,o);r.has(o.prop)||r.set(o.prop,new Set),r.get(o.prop).add(t.get(o.prop)),r.get(o.prop).add(o)}t.set(o.prop,o)}});for(let e of l)e.remove();for(let e of r.values()){let t=new Map;for(let l of e){let e=resolveUnit(l.value);null!==e&&(t.has(e)||t.set(e,new Set),t.get(e).add(l))}for(let e of t.values()){let t=Array.from(e).slice(0,-1);for(let e of t)e.remove()}}})}}Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return collapseDuplicateDeclarations}});let UNITLESS_NUMBER=Symbol("unitless-number");function resolveUnit(e){let t=/^-?\d*.?\d+([\w%]+)?$/g.exec(e);var l;return t?null!==(l=t[1])&&void 0!==l?l:UNITLESS_NUMBER:null}