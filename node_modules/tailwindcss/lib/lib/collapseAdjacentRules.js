"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return collapseAdjacentRules}});let comparisonMap={atrule:["name","params"],rule:["selector"]},types=new Set(Object.keys(comparisonMap));function collapseAdjacentRules(){function e(t){let l=null;t.each(e=>{if(!types.has(e.type))return void(l=null);if(null===l)return void(l=e);let t=comparisonMap[e.type];var n,r;"atrule"===e.type&&"font-face"===e.name?l=e:t.every(t=>(null!==(n=e[t])&&void 0!==n?n:"").replace(/\s+/g," ")===(null!==(r=l[t])&&void 0!==r?r:"").replace(/\s+/g," "))?(e.nodes&&l.append(e.nodes),e.remove()):l=e}),t.each(t=>{"atrule"===t.type&&e(t)})}return t=>{e(t)}}