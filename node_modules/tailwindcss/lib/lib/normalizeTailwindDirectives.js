"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return normalizeTailwindDirectives}});const _log=_interop_require_default(require("../util/log"));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function normalizeTailwindDirectives(e){let i=new Set,a=new Set,s=new Set;if(e.walkAtRules(e=>{"apply"===e.name&&s.add(e),"import"===e.name&&('"tailwindcss/base"'===e.params||"'tailwindcss/base'"===e.params?(e.name="tailwind",e.params="base"):'"tailwindcss/components"'===e.params||"'tailwindcss/components'"===e.params?(e.name="tailwind",e.params="components"):'"tailwindcss/utilities"'===e.params||"'tailwindcss/utilities'"===e.params?(e.name="tailwind",e.params="utilities"):'"tailwindcss/screens"'!==e.params&&"'tailwindcss/screens'"!==e.params&&'"tailwindcss/variants"'!==e.params&&"'tailwindcss/variants'"!==e.params||(e.name="tailwind",e.params="variants")),"tailwind"===e.name&&("screens"===e.params&&(e.params="variants"),i.add(e.params)),["layer","responsive","variants"].includes(e.name)&&(["responsive","variants"].includes(e.name)&&_log.default.warn(`${e.name}-at-rule-deprecated`,[`The \`@${e.name}\` directive has been deprecated in Tailwind CSS v3.0.`,"Use `@layer utilities` or `@layer components` instead.","https://tailwindcss.com/docs/upgrade-guide#replace-variants-with-layer"]),a.add(e))}),!i.has("base")||!i.has("components")||!i.has("utilities"))for(let e of a)if("layer"===e.name&&["base","components","utilities"].includes(e.params)){if(!i.has(e.params))throw e.error(`\`@layer ${e.params}\` is used but no matching \`@tailwind ${e.params}\` directive is present.`)}else if("responsive"===e.name){if(!i.has("utilities"))throw e.error("`@responsive` is used but `@tailwind utilities` is missing.")}else if("variants"===e.name&&!i.has("utilities"))throw e.error("`@variants` is used but `@tailwind utilities` is missing.");return{tailwindDirectives:i,applyDirectives:s}}