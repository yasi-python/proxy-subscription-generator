"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"findAtConfigPath",{enumerable:!0,get:function(){return findAtConfigPath}});const _fs=_interop_require_default(require("fs")),_path=_interop_require_default(require("path"));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function findAtConfigPath(e,t){let r=null,i=null;return e.walkAtRules("config",e=>{var o,n,u;if(i=null!==(u=null!==(n=null===(o=e.source)||void 0===o?void 0:o.input.file)&&void 0!==n?n:t.opts.from)&&void 0!==u?u:null,null===i)throw e.error("The `@config` directive cannot be used without setting `from` in your PostCSS config.");if(r)throw e.error("Only one `@config` directive is allowed per file.");let l=e.params.match(/(['"])(.*?)\1/);if(!l)throw e.error("A path is required when using the `@config` directive.");let f=l[2];if(_path.default.isAbsolute(f))throw e.error("The `@config` directive cannot be used with an absolute path.");if(r=_path.default.resolve(_path.default.dirname(i),f),!_fs.default.existsSync(r))throw e.error(`The config file at "${f}" does not exist. Make sure the path is correct and the file exists.`);e.remove()}),r||null}