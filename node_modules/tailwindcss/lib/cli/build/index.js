"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"build",{enumerable:!0,get:function(){return build}});const _fs=_interop_require_default(require("fs")),_path=_interop_require_default(require("path")),_resolveConfigPath=require("../../util/resolveConfigPath.js"),_plugin=require("./plugin.js");function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}async function build(e){let i=e["--input"],t=e["--watch"];!i&&e._[1]&&(console.error("[deprecation] Running tailwindcss without -i, please provide an input file."),i=e["--input"]=e._[1]),i&&"-"!==i&&!_fs.default.existsSync(i=_path.default.resolve(i))&&(console.error(`Specified input file ${e["--input"]} does not exist.`),process.exit(9)),e["--config"]&&!_fs.default.existsSync(e["--config"]=_path.default.resolve(e["--config"]))&&(console.error(`Specified config file ${e["--config"]} does not exist.`),process.exit(9));let r=e["--config"]?e["--config"]:(0,_resolveConfigPath.resolveDefaultConfigPath)(),o=await(0,_plugin.createProcessor)(e,r);t?("always"!==e["--watch"]&&process.stdin.on("end",()=>process.exit(0)),process.stdin.resume(),await o.watch()):await o.build().catch(e=>{console.error(e),process.exit(1)})}