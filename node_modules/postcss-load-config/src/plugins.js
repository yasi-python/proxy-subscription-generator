"use strict";const req=require("./req.js"),load=(e,s,t)=>{try{return null==s||0===Object.keys(s).length?req(e,t):req(e,t)(s)}catch(e){throw new Error(`Loading PostCSS Plugin failed: ${e.message}\n\n(@${t})`)}},plugins=(e,s)=>{let t=[];return t=Array.isArray(e.plugins)?e.plugins.filter(Boolean):Object.keys(e.plugins).filter(s=>!1!==e.plugins[s]?s:"").map(t=>load(t,e.plugins[t],s)),t.length&&t.length>0&&t.forEach((e,t)=>{if(e.default&&(e=e.default),!0===e.postcss?e=e():e.postcss&&(e=e.postcss),!("object"==typeof e&&Array.isArray(e.plugins)||"object"==typeof e&&e.postcssPlugin||"function"==typeof e))throw new TypeError(`Invalid PostCSS Plugin found at: plugins[${t}]\n\n(@${s})`)}),t};module.exports=plugins;