"use strict";var processFn=function(e,n,t){return function(){for(var r=this,u=new Array(arguments.length),i=0;i<arguments.length;i++)u[i]=arguments[i];return new n(function(n,i){u.push(function(e,r){if(e)i(e);else if(t.multiArgs){for(var u=new Array(arguments.length-1),o=1;o<arguments.length;o++)u[o-1]=arguments[o];n(u)}else n(r)}),e.apply(r,u)})}},pify=module.exports=function(e,n,t){"function"!=typeof n&&(t=n,n=Promise),(t=t||{}).exclude=t.exclude||[/.+Sync$/];var r="function"==typeof e?function(){return t.excludeMain?e.apply(this,arguments):processFn(e,n,t).apply(this,arguments)}:{};return Object.keys(e).reduce(function(r,u){var i=e[u];return r[u]="function"==typeof i&&function(e){var n=function(n){return"string"==typeof n?e===n:n.test(e)};return t.include?t.include.some(n):!t.exclude.some(n)}(u)?processFn(i,n,t):i,r},r)};pify.all=pify;