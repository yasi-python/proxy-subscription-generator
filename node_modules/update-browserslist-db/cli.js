#!/usr/bin/env node
let{readFileSync:readFileSync}=require("fs"),{join:join}=require("path");require("./check-npm-version");let updateDb=require("./");const ROOT=__dirname;function getPackage(){return JSON.parse(readFileSync(join(ROOT,"package.json")))}let args=process.argv.slice(2),USAGE="Usage:\n  npx update-browserslist-db\n";function isArg(e){return args.some(r=>r===e)}function error(e){process.stderr.write("update-browserslist-db: "+e+"\n"),process.exit(1)}if(isArg("--help")||isArg("-h"))process.stdout.write(getPackage().description+".\n\n"+USAGE+"\n");else if(isArg("--version")||isArg("-v"))process.stdout.write("browserslist-lint "+getPackage().version+"\n");else try{updateDb()}catch(e){if("BrowserslistUpdateError"!==e.name)throw e;error(e.message)}