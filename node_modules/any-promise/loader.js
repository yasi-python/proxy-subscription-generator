"use strict";var REGISTRATION_KEY="@@any-promise/REGISTRATION",registered=null;module.exports=function(e,r){return function(n,i){n=n||null;var t=!1!==(i=i||{}).global;if(null===registered&&t&&(registered=e[REGISTRATION_KEY]||null),null!==registered&&null!==n&&registered.implementation!==n)throw new Error('any-promise already defined as "'+registered.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===registered&&(registered=null!==n&&void 0!==i.Promise?{Promise:i.Promise,implementation:n}:r(n),t&&(e[REGISTRATION_KEY]=registered)),registered}};