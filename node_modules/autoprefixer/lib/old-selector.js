class OldSelector{constructor(e,r){this.prefix=r,this.prefixed=e.prefixed(this.prefix),this.regexp=e.regexp(this.prefix),this.prefixeds=e.possible().map(r=>[e.prefixed(r),e.regexp(r)]),this.unprefixed=e.name,this.nameRegexp=e.regexp()}check(e){return!!e.selector.includes(this.prefixed)&&(!!e.selector.match(this.regexp)&&!this.isHack(e))}isHack(e){let r=e.parent.index(e)+1,t=e.parent.nodes;for(;r<t.length;){let e=t[r].selector;if(!e)return!0;if(e.includes(this.unprefixed)&&e.match(this.nameRegexp))return!1;let i=!1;for(let[r,t]of this.prefixeds)if(e.includes(r)&&e.match(t)){i=!0;break}if(!i)return!0;r+=1}return!0}}module.exports=OldSelector;