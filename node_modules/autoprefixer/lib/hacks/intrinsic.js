let OldValue=require("../old-value"),Value=require("../value");function regexp(e){return new RegExp(`(^|[\\s,(])(${e}($|[\\s),]))`,"gi")}class Intrinsic extends Value{add(e,t){if(!e.prop.includes("grid")||"-webkit-"===t)return super.add(e,t)}isStretch(){return"stretch"===this.name||"fill"===this.name||"fill-available"===this.name}old(e){let t=e+this.name;return this.isStretch()&&("-moz-"===e?t="-moz-available":"-webkit-"===e&&(t="-webkit-fill-available")),new OldValue(this.name,t,t,regexp(t))}regexp(){return this.regexpCache||(this.regexpCache=regexp(this.name)),this.regexpCache}replace(e,t){return"-moz-"===t&&this.isStretch()?e.replace(this.regexp(),"$1-moz-available$3"):"-webkit-"===t&&this.isStretch()?e.replace(this.regexp(),"$1-webkit-fill-available$3"):super.replace(e,t)}}Intrinsic.names=["max-content","min-content","fit-content","fill","fill-available","stretch"],module.exports=Intrinsic;