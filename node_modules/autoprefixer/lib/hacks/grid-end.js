let Declaration=require("../declaration"),{isPureNumber:isPureNumber}=require("../utils");class GridEnd extends Declaration{insert(e,r,n,l){if("-ms-"!==r)return super.insert(e,r,n);let a=this.clone(e),i=e.prop.replace(/end$/,"start"),s=r+e.prop.replace(/end$/,"span");if(!e.parent.some(e=>e.prop===s)){if(a.prop=s,e.value.includes("span"))a.value=e.value.replace(/span\s/i,"");else{let r;if(e.parent.walkDecls(i,e=>{r=e}),r){if(!isPureNumber(r.value))return;{let n=Number(e.value)-Number(r.value)+"";a.value=n}}else e.warn(l,`Can not prefix ${e.prop} (${i} is not found)`)}e.cloneBefore(a)}}}GridEnd.names=["grid-row-end","grid-column-end"],module.exports=GridEnd;