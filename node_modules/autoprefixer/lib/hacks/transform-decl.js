let Declaration=require("../declaration");class TransformDecl extends Declaration{contain3d(r){if("transform-origin"===r.prop)return!1;for(let e of TransformDecl.functions3d)if(r.value.includes(`${e}(`))return!0;return!1}insert(r,e,t){if("-ms-"===e){if(!this.contain3d(r)&&!this.keyframeParents(r))return super.insert(r,e,t)}else{if("-o-"!==e)return super.insert(r,e,t);if(!this.contain3d(r))return super.insert(r,e,t)}}keyframeParents(r){let{parent:e}=r;for(;e;){if("atrule"===e.type&&"keyframes"===e.name)return!0;({parent:e}=e)}return!1}set(r,e){return r=super.set(r,e),"-ms-"===e&&(r.value=r.value.replace(/rotatez/gi,"rotate")),r}}TransformDecl.names=["transform","transform-origin"],TransformDecl.functions3d=["matrix3d","translate3d","translateZ","scale3d","scaleZ","rotate3d","rotateX","rotateY","perspective"],module.exports=TransformDecl;