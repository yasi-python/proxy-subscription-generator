"use strict";const path=require("path"),which=require("which"),getPathKey=require("path-key");function resolveCommandAttempt(e,t){const o=e.options.env||process.env,r=process.cwd(),s=null!=e.options.cwd,c=s&&void 0!==process.chdir&&!process.chdir.disabled;if(c)try{process.chdir(e.options.cwd)}catch(e){}let i;try{i=which.sync(e.command,{path:o[getPathKey({env:o})],pathExt:t?path.delimiter:void 0})}catch(e){}finally{c&&process.chdir(r)}return i&&(i=path.resolve(s?e.options.cwd:"",i)),i}function resolveCommand(e){return resolveCommandAttempt(e)||resolveCommandAttempt(e,!0)}module.exports=resolveCommand;