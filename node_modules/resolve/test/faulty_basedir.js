var test=require("tape"),path=require("path"),resolve=require("../");test("faulty basedir must produce error in windows",{skip:"win32"!==process.platform},function(e){e.plan(1);resolve("tape/lib/test.js",{basedir:"C:\\a\\b\\c\\d"},function(t,s,r){e.equal(!!t,!0)})}),test("non-existent basedir should not throw when preserveSymlinks is false",function(e){e.plan(2);var t={basedir:path.join(path.sep,"unreal","path","that","does","not","exist"),preserveSymlinks:!1};resolve("./dotdot/abc",t,function(t,s){e.equal(t.code,"MODULE_NOT_FOUND"),e.equal(s,void 0)})});